@tailwind base;
@tailwind components;
@tailwind utilities;

/* Hide Collapse All and Expand All buttons in Filament Repeater */
[data-collapse-all-action],
[data-expand-all-action] {
    display: none !important;
}

/* Invert brand logo in dark mode using mask */
.dark .fi-logo {
    filter: brightness(0) invert(1) !important;
}

.dark .fi-sidebar-header img[src*="Logo.svg"],
.dark img[src*="Logo.svg"] {
    filter: brightness(0) invert(1) !important;
}

/* Custom styles for Student Select Tags (Chips) */
.student-select [style*="background-color"] {
    /* This targets the chip background container if inline styles are used, or generally the chip */
    padding-top: 0.25rem !important;
    padding-bottom: 0.25rem !important;
}

/* Increase delete icon size */
.student-select button svg.h-4,
.student-select button svg.h-5 {
    width: 1rem !important;
    height: 1rem !important;
}

/* Ensure the chip container aligns items center */
.student-select .flex.gap-x-1 {
    align-items: center !important;
}

/* Custom warning badge colors removed to allow standard Filament colors */
/* .fi-badge.fi-color-custom... removed */

/* Hide filter badge when showing 0 (no active filters) */
.fi-ta-filters-indicator:empty,
.fi-ac-btn-badge:empty {
    display: none !important;
}

/* Hide badges containing only "0" */
.fi-badge[x-text]:has(span:only-child):empty,
.fi-ac-btn [x-show*="0"]:not([x-show*=">"]) {
    display: none !important;
}

/* Smaller navigation badges in sidebar */
.fi-sidebar-nav .fi-badge,
.fi-sidebar-item .fi-badge {
    font-size: 0.65rem !important;
    padding: 0.15rem 0.4rem !important;
    min-width: 1.1rem !important;
    height: auto !important;
    line-height: 1.2 !important;
}

/* Student Card Modal Styling */
.fi-modal-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 1rem 1.5rem;
    border-bottom: 1px solid rgb(229 231 235);
}

.dark .fi-modal-header {
    border-bottom-color: rgb(55 65 81);
}

.fi-modal-header .fi-modal-heading {
    font-size: 1.125rem;
    line-height: 1.75rem;
    font-weight: 600;
    color: rgb(17 24 39);
}

.dark .fi-modal-header .fi-modal-heading {
    color: white;
}

.fi-modal-close-btn {
    color: rgb(156 163 175);
}

.fi-modal-close-btn:hover {
    color: rgb(107 114 128);
}

.dark .fi-modal-close-btn {
    color: rgb(156 163 175);
}

.dark .fi-modal-close-btn:hover {
    color: rgb(209 213 219);
}

.fi-modal-footer {
    border-top: none !important;
    padding-top: 0 !important;
}

.dark .fi-modal-footer {
    border-top: none !important;
}

/* Global Counter Styling (Sidebar, Header, Messenger) */
.fi-sidebar-item .fi-badge,
.fi-sidebar-nav .fi-badge,
.fi-topbar .fi-badge,
.fi-topbar .fi-icon-btn-badge,
.messenger-list-container .fi-badge {
    background-color: #ef4444 !important;
    /* Red-500 */
    color: #ffffff !important;
}

/* Hide numeric inputs in the file upload editor sidebar (Global) */
.fi-fo-file-upload-editor-window .grid:has(input[type="number"]) {
    display: none !important;
}

/* Fallback for Safari/older browsers */
.fi-fo-file-upload-editor-window .fi-fo-section-content>.grid {
    display: none !important;
}

/* Specifically hide the numeric inputs if grid selector fails */
.fi-fo-file-upload-editor-window input[type="number"],
.fi-fo-file-upload-editor-window input[type="number"]+label,
.fi-fo-file-upload-editor-window label:has(+ input[type="number"]) {
    display: none !important;
}

/* Separator before the profile and settings items in the main sidebar */
.fi-sidebar-item:has(a[href*="lesson-types"]) {
    margin-top: 0.5rem !important;
    padding-top: 0.5rem !important;
    border-top: 1px solid rgb(229, 231, 235) !important;
}

.dark .fi-sidebar-item:has(a[href*="lesson-types"]) {
    border-top-color: rgba(255, 255, 255, 0.1) !important;
}